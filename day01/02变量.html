<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ES6 变量</title>
</head>
<body>
    <!-- 其值可变的量 就是变量 -->

</body>
<script>
    // ES5 声明一个变量
    var sName = 'LMZ';
    //1.它是字符串变量 2.全局变量 3.可以赋值 4.变量的值的内容不可以修改(只读)5.变量的类型可以修改
    sName = sName + 's';
    console.log(typeof(sName));
    sName = 2018;
    console.log(typeof (sName));
    
    for(var i = 0;i<20;i++){
        var j = i;
        j++;
        // console.log(j);//0~9 error error un 1~10 un
        // console.log(typeof(j))//
    }

    console.log(i);//9 9 undefine 10 undefine undefine 10
    console.log(j);//11 11 11 11 10 11 10

    console.log(bName);//lmz un un un un un un 
    var bName = 'LMZ';
    console.log(bName);

    if(true){
        var iNum = 100;

    }
    console.log(iNum);

    var aFuncs = new Array();
    for(var index = 0; index< 10; index++){

        // (function(num){
        //     aFuncs[num] = function () {
        //         var k = 0;
        //         k++;
        //         console.log(num, k);
        //     };
        // })(index);

        aFuncs[index] = function(){ 
            var k = 0;
            k++;
            console.log('LMZ',index,k);
            // return {k,index};
        };
    }

    // var dF = function () {  
    // }
    // dF();
    console.log('********0********');
    aFuncs[0]();
    console.log('********9********');
    aFuncs[9]();
    console.log('****************');
    // console.log(aFuncs);//[10~10] [0~9] [ 10 * 9] [0~10]  [0~9] [10] [0~9]
    console.log('0',aFuncs[0]());//[10] 9  [10] [9] [9]
    console.log('9',aFuncs[9]());// [10] 9  [10] [9] [9]
    // console.log(aFuncs[10]());//null un   null null null
</script>
<script>
    // console.log(bName);//un lmz lmz  lmz lmz lmz
    // var 的作用域  变量的提升
    // let
    // ES6 引入关键字 let 来定义一个变量
    let uName = 'LMZ';
    uName = 18;
    console.log(uName);
    // let uName = 'Tom';
    // console.log(uName);
    if(true){
        var ab = 1000;
        let abc = 100;
    }
    // console.log(ab,abc);

    var as = [];
    for(let ii = 0;ii < 10; ii++){
        as[ii] = function() {
            console.log(ii);
        }
        // ()();
    }
    // console.log(ii);

    as[0]();
    as[1]();
    as[9]();
    let bbb = 'ccc';
    {
        // console.log(bbb);//undefine ccc error 
        var aaa = 'aaa';
        let bbb = 'bbb';
        console.log(bbb);//bbb 
    }
    console.log(bbb);// ccc

    function gFunc(){
        var aaaa = 18;
        var bbbb = 20;
        if(true){
            let aaaa = 81;
            var bbbb = 200;
        }
        console.log(aaaa);//18 
        console.log(bbbb);//200
    }

    gFunc();

    // var 能让变量提升 即脚本JS开始执行时 变量就已经存在了，但是没有值 输出undefined
    // let 不会让变量进行提升

    // var 声明的变量可以重复使用
    // let 不允许在相同的作用域内，重复声明同一个变量
    function hFunc(){
        let nn = 'undefine';
        {
            let nn = 'undefine';
        }
        
    }
    hFunc();

    // 块级作用域
    // 全局作用域、局部作用域（函数作用域） 这是ES5的作用域
    /* 
        第一个场景 内层变量可能会覆盖外层变量
     */

    /* 
        第二个场景 用来计数的循环变量泄露为全局变量
     */

    let sString = 'hello';
    {
        console.log(sString);
        sString = 'world!!!!!!!!!!!';
        console.log(sString);
    }
    for(let i = 0;i< sString.length;i++){
        console.log(sString[i]);//error2   undefine
    }
    console.log(i);

</script>
<script>
    console.log(sString);
    
</script>
</html>